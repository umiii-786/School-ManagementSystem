<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/CSS/searchform.css">
    <style>
        .image {
            width: 80%;
            margin: auto;
            height: 400px;
        }

        .image img {
            width: 100%;
            height: 100%;
            object-fit: none;
        }

        .records {
            width: 90%;
        }

        .RecordHeading {
            display: flex;
            justify-content: space-between;
        }

        .eachrecord {
            display: flex;
            justify-content: space-between;
            align-items: center;

        }

        .eachrecord>a {
            text-decoration: none;
            width: 100px;
            padding: 5px;
            border-radius: 5px;
            font-size: 15px;
        }

        .manipulate_btns {
            width: 100px;
            padding: 5px;
            border-radius: 5px;
            font-size: 15px;
            cursor: pointer;
        }

        .fa-solid,
        .fa-regular {
            margin-right: 5px;
        }
    </style>
    <link rel="stylesheet" href="/CSS/table.css">
    <style>
        .button {
            display: inline-block;
            font-size: 14px;
            text-decoration: none;
            border-radius: 5px;
            color: #fff;
            width: 100px;
            font-weight: 600;
            padding: 6px;
            width: 104px;
            text-align: center;
            cursor: pointer;
        }

        section {
            width: 90%;
            margin-top: 30px;
        }

        .filter_data_section {
            width: 100%;
            box-shadow: var(--tableBoxShadow)
        }


        .profile_button {
            background-color: green;
            color: white;

        }

        .edit {
            background-color: yellow;
            color: black;
        }

        .delete {
            background-color: red;
            color: white;
        }

        .button:hover {
            opacity: 0.9;
        }

        .h1 {
            margin: 10px 0px;
            color: var(--sidebutton-color);
        }
    </style>

    <style>
      /*  @media screen and (max-width:1050px) {
           
        }*/
    </style>
</head>

<body>
    <% layout('Boilerplate') -%>
        <h4 class="manage_heading">Search Student Easily</h4>
        <form action="/student/manage" class="options">
            <input type="number" name="rollno" placeholder="search by Rollno" class="search_inputs">
            <select name="department" id="selectboxes_Options" class="search_inputs">
                <option>All</option>
                <% for( let i=0; i < departmentNames.length; i++ ) { %>
                    <option>
                        <%= departmentNames[i].department_name %>
                    </option>
                    <% } %>

            </select>
            <select name="batch" class="search_inputs">
                <option>2022</option>
                <option>2023</option>
                <option>2024</option>
                <option>2025</option>
            </select>
            <button class="search-btn">Search</button>
        </form>

        <% if (data.length==0) { %>
            <div class="image">
                <img src="/images/filterimagerm.png" alt="filter">
            </div>

            <% } else {%>
                <section>
                    <h1 class="h1">Filtered Data</h1>
                    <div class="filter_data_section">
                        <table>
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Roll-no</th>
                                    <th>Department</th>
                                    <th>Batch</th>
                                    <th></th>
                                    <% if (itself.Role=='Admin' ) { %>
                                        <th></th>
                                        <th></th>
                                        <% } %>
                                </tr>
                            </thead>

                            <tbody>

                                <% for( let i=0; i < data.length; i++ ) { %>

                                    <tr>
                                        <td data-title='Provider Name'>
                                            <i class="fa-solid fa-graduation-cap"></i>
                                            <%= data[i].username %>
                                        </td>
                                        <td data-title='E-mail'>
                                            <i class="fa-regular fa-id-badge"></i></i>
                                            <%= data[i].rollno %>
                                        </td>
                                        <td data-title='E-mail'>
                                            <i class="fa-solid fa-landmark"></i>
                                            <%= data[i].department.department_name %>
                                        </td>
                                        <td data-title='E-mail'>
                                            <!-- <i class="fa-solid fa-section"></i> -->
                                            <%= data[i].batch %>
                                        </td>

                                        <td class='select'>
                                            <a class='button profile_button' href='/student/<%=data[i]._id  %>'>
                                                View Profile
                                            </a>
                                        </td>
                                        <% if (itself.Role=='Admin' ) { %>



                                            <td class='select'>


                                                <a class='button edit' href='/student/edit/<%= data[i]._id %>'>
                                                    Edit
                                                </a>
                                            </td>
                                            <td class='select'>
                                                <form action="/student/<%= data[i]._id %>?_method=DELETE" method="post">
                                                    <button class='button delete' style="border:none ;">
                                                        Delete
                                                    </button>
                                                </form>
                                            </td>
                                            <% } %>
                                    </tr>

                                    <% } %>



                            </tbody>
                        </table>

                    </div>

                </section>
                <% } %>





</body>
<script src="https://kit.fontawesome.com/a4fa4ff0b8.js" crossorigin="anonymous"></script>

</html>